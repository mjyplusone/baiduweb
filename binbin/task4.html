<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IFE JavaScript Task 04</title>
    <style type="text/css">
        li{
            list-style: none;
            display: block;
            width: 40px;
            height: 40px;
            background: red;
            color: white;
            text-align: center;
            line-height: 40px;
        }
    </style>
</head>
<body>
    <input type="text" id="innum">
    <button id="leftin">左侧入</button>
    <button id="rightin">右侧入</button>
    <button id="leftout">左侧出</button>
    <button id="rightout">右侧出</button>

    <ul id="outnum"></ul>

    <script type="text/javascript">
        var innum = document.getElementById('innum');
        var outnum = document.getElementById('outnum');
        var leftin = document.getElementById('leftin');
        var rightin = document.getElementById('rightin');
        var leftout = document.getElementById('leftout');
        var rightout = document.getElementById('rightout');

        function insert(direction)
        {
            if(isNaN(innum.value))
            {
                alert("input error!");
                innum.value = "";
                innum.focus();
            }
            else
            {
                var newli = document.createElement('li');
                newli.innerHTML = innum.value;
                if(direction === 'left')
                {
                    outnum.insertBefore(newli, outnum.firstChild);
                }
                else if(direction === 'right')
                {
                    outnum.appendChild(newli);
                }
            }
        }

        function del(direction)
        {
            if(outnum.childNodes.length <= 0)
            {
                alert("no number!");
                return false;
            }
            else
            {
                if(direction === 'left')
                {
                    outnum.removeChild(outnum.firstChild);
                }
                else if(direction === 'right')
                {
                    outnum.removeChild(outnum.lastChild);
                }
            }
        }

        function delli(node)
        {
            outnum.removeChild(node);
        }

        leftin.onclick = function(){
            insert('left');
        };
        rightin.onclick = function(){
            insert('right');
        };
        leftout.onclick = function(){
            del("left");
        };
        rightout.onclick = function(){
            del("right");
        }
        outnum.onclick = function(){
            delli(event.target);
        }
        
    </script>
</body>
</html>